

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Evaluation &mdash; python 81a documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Meta-documentation" href="meta.html" />
    <link rel="prev" title="Dummy Equations" href="dummy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> python
          

          
          </a>

          
            
            
              <div class="version">
                81
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="dummy.html">Dummy Equations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Evaluation</a></li>
<li class="toctree-l1"><a class="reference internal" href="meta.html">Meta-documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick.html"><em>Quick Guide to Python</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="sv.html">The Shlosman &amp; Vitello prescription of a bi-conical wind</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Evaluation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/evaluation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="evaluation">
<h1>Evaluation<a class="headerlink" href="#evaluation" title="Permalink to this headline">¶</a></h1>
<p>Determining whether Python has run successfully from a a scientific point of view depends very specifically on one’s goals.  Did the spectra turn out to be what one expected?  Here by evaluation we mean, did my run complete without significant errors and did the ionization structure converge to a “steady state” given the number of ionization cycles, the number of photons, and the frequency distributions of the photons we chose.</p>
<div class="section" id="convergence">
<h2>Convergence<a class="headerlink" href="#convergence" title="Permalink to this headline">¶</a></h2>
<p>A very basic question about a particular run is,  has it reached a “steady state” and if it is in a steady state are cells stable in the sense that fluctuations are small.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Define what converged means here, and provide examples</p>
</div>
<p>Note that it is not always important that all cells be converged.
The Monte Carlo process preferentially picks out the cells which affect the emergent radiation field.
Portions of the grid which do not get many photons are typically the ones that are “not converged”,
but since they don’t contribute much to the emergent radiation, one does not need them to be converged
(except if one wants to make nice plots of the temperature as a function of position in the wind or of the density of a particular ion species).
On the other hand, if one is using Python in conjunction with a hydrodynamical code one wants all the cells to be converged.</p>
</div>
<div class="section" id="errors">
<h2>Errors<a class="headerlink" href="#errors" title="Permalink to this headline">¶</a></h2>
<p>Python is designed to continue to run unless something catastrophic happens.
As it runs, it logs error messages that can be found in the .diag files.
These messages are a combinations of warnings, and/or unusual occurrences,
that if they start occurring often suggest a real problem.</p>
<p>These error messages are all of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="p">:</span> <span class="n">wind2d</span><span class="p">:</span> <span class="n">Cell</span>   <span class="mi">0</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">in</span> <span class="n">domain</span> <span class="mi">0</span> <span class="n">has</span> <span class="mi">1</span> <span class="n">corners</span> <span class="ow">in</span> <span class="n">wind</span><span class="p">,</span> <span class="n">but</span> <span class="n">zero</span> <span class="n">volume</span>
</pre></div>
</div>
<p>that is they begin with the word <code class="code docutils literal notranslate"><span class="pre">Error</span></code>. followed by the subroutine in the code where the error occurred followed by what is hopefully a helpful.
If one is concerned about a particular message, one can hopefully determine what is happening by looking for that message in the log files.</p>
<p>Python keeps a count of the number of times a particular message has occurred and at the end of the program, and the very end of the
diag files contain a listing of how many times a particular error has occurred.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span> <span class="n">summary</span><span class="p">:</span> <span class="n">End</span> <span class="n">of</span> <span class="n">program</span><span class="p">,</span> <span class="n">Thread</span> <span class="mi">2</span> <span class="n">only</span>
<span class="n">Recurrences</span> <span class="o">--</span>  <span class="n">Description</span>
     <span class="mi">7</span> <span class="o">--</span> <span class="n">getatomic_data</span><span class="p">:</span> <span class="n">line</span> <span class="nb">input</span> <span class="n">incomplete</span><span class="p">:</span> <span class="o">%</span><span class="n">s</span>
   <span class="mi">128</span> <span class="o">--</span> <span class="n">get_atomicdata</span><span class="p">:</span> <span class="n">Could</span> <span class="ow">not</span> <span class="n">interpret</span> <span class="n">line</span> <span class="o">%</span><span class="n">d</span> <span class="ow">in</span> <span class="n">file</span> <span class="o">%</span><span class="n">s</span><span class="p">:</span> <span class="o">%</span><span class="n">s</span>
     <span class="mi">1</span> <span class="o">--</span> <span class="n">error_count</span><span class="p">:</span> <span class="n">This</span> <span class="n">error</span> <span class="n">will</span> <span class="n">no</span> <span class="n">longer</span> <span class="n">be</span> <span class="n">logged</span><span class="p">:</span> <span class="o">%</span><span class="n">s</span>
     <span class="mi">1</span> <span class="o">--</span> <span class="n">get_wind_params</span><span class="p">:</span> <span class="n">zdom</span><span class="p">[</span><span class="n">ndom</span><span class="p">]</span><span class="o">.</span><span class="n">rmax</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">wind</span> <span class="nb">type</span> <span class="o">%</span><span class="n">d</span>
     <span class="mi">1</span> <span class="o">--</span> <span class="n">wind2d</span><span class="p">:</span> <span class="n">Cell</span> <span class="o">%</span><span class="mi">3</span><span class="n">d</span> <span class="p">(</span><span class="o">%</span><span class="mi">2</span><span class="n">d</span><span class="p">,</span><span class="o">%</span><span class="mi">2</span><span class="n">d</span><span class="p">)</span> <span class="ow">in</span> <span class="n">domain</span> <span class="o">%</span><span class="n">d</span> <span class="n">has</span> <span class="o">%</span><span class="n">d</span> <span class="n">corners</span> <span class="ow">in</span> <span class="n">wind</span><span class="p">,</span> <span class="n">but</span> <span class="n">zero</span> <span class="n">volume</span>
     <span class="mi">1</span> <span class="o">--</span> <span class="n">check_grid</span><span class="p">:</span> <span class="n">velocity</span> <span class="n">changes</span> <span class="n">by</span> <span class="o">&gt;</span><span class="mi">1</span><span class="p">,</span><span class="mi">000</span> <span class="n">km</span><span class="o">/</span><span class="n">s</span> <span class="ow">in</span> <span class="o">%</span><span class="n">i</span> <span class="n">cells</span>
     <span class="mi">1</span> <span class="o">--</span> <span class="n">check_grid</span><span class="p">:</span> <span class="n">some</span> <span class="n">cells</span> <span class="n">have</span> <span class="n">large</span> <span class="n">changes</span><span class="o">.</span> <span class="n">Consider</span> <span class="n">modifying</span> <span class="n">zlog_scale</span> <span class="ow">or</span> <span class="n">grid</span> <span class="n">dims</span>
</pre></div>
</div>
<p>As indicated here, these are the errors for only thread 2 of a program.
In order to get a summary of all the threads, there is a script py_error.py that be run as <code class="code docutils literal notranslate"><span class="pre">py_error.py</span> <span class="pre">rootname</span></code> from the main run directory.
Note that in many cases, the summary will be the number times an error occurred in one thread times the number of threads, but not always.</p>
<p>One should be aware of these errors, and watch out for situations where the number of errors  of a particular type is much larger than usual.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="meta.html" class="btn btn-neutral float-right" title="Meta-documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dummy.html" class="btn btn-neutral float-left" title="Dummy Equations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Knox Long, Christian Knigge, Stuart Sims, Nick Higginbottom, James Matthews, Sam Mangham, Edward Parkinson, Mandy Hewitt

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>